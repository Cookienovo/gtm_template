___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "displayName": "Cookienovo",
  "description": "Cookie banner (CMP) by Cookienovo\nhttps://cookienovo.com/",
  "categories": [
    "TAG_MANAGEMENT",
    "UTILITY"
  ],
  "securityGroups": [],
  "id": "cvt_temp_public_id",
  "type": "TAG",
  "version": 1,
  "brand": {
    "id": "Cookienovo",
    "displayName": "Cookienovo",
    "thumbnail": "data:image/png;base64,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\u003d\u003d"
  },
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "id",
    "displayName": "Site token",
    "simpleValueType": true,
    "alwaysInSummary": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      },
      {
        "type": "STRING_LENGTH",
        "args": [
          40,
          60
        ]
      }
    ],
    "clearOnCopy": true,
    "help": "Site token can be found in your Cookienovo"
  },
  {
    "type": "SELECT",
    "name": "consent_mode_enabled",
    "displayName": "Consent Mode v2",
    "macrosInSelect": false,
    "selectItems": [
      {
        "value": false,
        "displayValue": "Disabled"
      },
      {
        "value": true,
        "displayValue": "Enabled"
      }
    ],
    "simpleValueType": true,
    "alwaysInSummary": true,
    "defaultValue": true,
    "help": "If enabled, consent mode v2 will be supported. The default state will be set when the tag is loaded. If consent has been granted, consent update will also be called with the appropriate permissions."
  },
  {
    "type": "GROUP",
    "name": "default_consents",
    "displayName": "Default consent states",
    "groupStyle": "NO_ZIPPY",
    "subParams": [
      {
        "type": "SELECT",
        "name": "default_consent_functionality",
        "displayName": "Functionality",
        "macrosInSelect": false,
        "selectItems": [
          {
            "value": "denied",
            "displayValue": "denied"
          },
          {
            "value": "granted",
            "displayValue": "granted"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "denied",
        "alwaysInSummary": true,
        "help": "Consent state for functionality_storage"
      },
      {
        "type": "SELECT",
        "name": "default_consent_marketing",
        "displayName": "Marketing",
        "macrosInSelect": false,
        "selectItems": [
          {
            "value": "denied",
            "displayValue": "denied"
          },
          {
            "value": "granted",
            "displayValue": "granted"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "denied",
        "alwaysInSummary": true,
        "help": "Consent state for ad_storage, ad_personalization and ad_user_data"
      },
      {
        "type": "SELECT",
        "name": "default_consent_analytics",
        "displayName": "Analytics",
        "macrosInSelect": false,
        "selectItems": [
          {
            "value": "denied",
            "displayValue": "denied"
          },
          {
            "value": "granted",
            "displayValue": "granted"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "denied",
        "alwaysInSummary": true,
        "help": "Consent state for analytics_storage"
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "google_tag_configs",
    "displayName": "Google Tag Configs",
    "groupStyle": "ZIPPY_OPEN_ON_PARAM",
    "subParams": [
      {
        "type": "TEXT",
        "name": "wait_for_update",
        "displayName": "Wait for update",
        "simpleValueType": true,
        "defaultValue": 2000,
        "alwaysInSummary": true,
        "canBeEmptyString": false,
        "help": "When wait_for_update is set to some value, the tag will pause its execution until updated consent state is detected or timeout occurs. This helps ensure accurate consent-based behavior when tags fire before consent is captured.",
        "valueValidators": [
          {
            "type": "NON_NEGATIVE_NUMBER"
          }
        ],
        "valueHint": "2000",
        "valueUnit": "ms"
      },
      {
        "type": "SELECT",
        "name": "url_passthrough",
        "displayName": "URL passthrough",
        "macrosInSelect": true,
        "selectItems": [
          {
            "value": false,
            "displayValue": "false"
          },
          {
            "value": true,
            "displayValue": "true"
          }
        ],
        "simpleValueType": true,
        "defaultValue": false,
        "help": "When a visitor has cookies disabled (ad_storage or analytics_storage set to \u0027denied\u0027), URL passthrough can transmit ad click information and analytics data across pages using URL parameters."
      },
      {
        "type": "SELECT",
        "name": "ads_data_redaction",
        "displayName": "Google Ads Data Redaction",
        "macrosInSelect": true,
        "selectItems": [
          {
            "value": false,
            "displayValue": "false"
          },
          {
            "value": true,
            "displayValue": "true"
          }
        ],
        "simpleValueType": true,
        "help": "When ad_storage is denied, no new advertising cookies are set and existing third-party cookies from Google domains won\u0027t be used, though the full URL including ad click data will still be sent to Google. To further protect user privacy, enabling ads_data_redaction will redact ad click identifiers in network requests when ad_storage is denied.",
        "defaultValue": false
      },
      {
        "type": "PARAM_TABLE",
        "name": "region_specific",
        "displayName": "Region specific",
        "paramTableColumns": [
          {
            "param": {
              "type": "TEXT",
              "name": "region",
              "displayName": "Region",
              "simpleValueType": true,
              "valueValidators": [
                {
                  "type": "NON_EMPTY"
                }
              ],
              "help": "Code of region in ISO 3166-2 format, like \"US\", \"SK\", etc.",
              "valueHint": "ES,US-AK"
            },
            "isUnique": true
          },
          {
            "param": {
              "type": "SELECT",
              "name": "functionality",
              "displayName": "functional (functionality_storage)",
              "macrosInSelect": true,
              "selectItems": [
                {
                  "value": "denied",
                  "displayValue": "denied"
                },
                {
                  "value": "granted",
                  "displayValue": "granted"
                }
              ],
              "simpleValueType": true,
              "defaultValue": "denied",
              "help": "Default state of functionality_storage in given region"
            },
            "isUnique": false
          },
          {
            "param": {
              "type": "SELECT",
              "name": "analytics",
              "displayName": "analytics (analytics_storage)",
              "macrosInSelect": true,
              "selectItems": [
                {
                  "value": "denied",
                  "displayValue": "denied"
                },
                {
                  "value": "granted",
                  "displayValue": "granted"
                }
              ],
              "simpleValueType": true,
              "help": "Default state of analytics_storage in given region",
              "defaultValue": "denied"
            },
            "isUnique": false
          },
          {
            "param": {
              "type": "SELECT",
              "name": "marketing",
              "displayName": "marketing (ad_storage, ad_personalization, ad_user_data)",
              "macrosInSelect": true,
              "selectItems": [
                {
                  "value": "denied",
                  "displayValue": "denied"
                },
                {
                  "value": "granted",
                  "displayValue": "granted"
                }
              ],
              "simpleValueType": true,
              "defaultValue": "denied",
              "help": "Default state of ad_storage, ad_personalization and ad_user_data in given region"
            },
            "isUnique": false
          }
        ]
      }
    ]
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const log = require('logToConsole');
const setDefaultConsentState = require('setDefaultConsentState');
const updateConsentState = require('updateConsentState');
const getCookieValues = require('getCookieValues');
const injectScript = require('injectScript');
const Object = require('Object');
const gtagSet = require('gtagSet');
const createQueue = require('createQueue');
const setInWindow = require('setInWindow');


setInWindow('cookienovo_token', data.id, true);


function loadConsentFromCookie(consent) {
  var status = getCookieValues(consent);
  if (status.length === 0) return undefined;
  return (status[0] == 1) ? 'granted' : 'denied'; 
}



const defaultConsentState = {
  'ad_storage': data.default_consent_marketing,
  'ad_user_data': data.default_consent_marketing,
  'ad_personalization': data.default_consent_marketing,
  'analytics_storage': data.default_consent_analytics,
  'functionality_storage': data.default_consent_functionality,
//  'personalization_storage': data.default_consent_functionality,
//  'security_storage': data.default_consent_functionality,
  'wait_for_update': data.wait_for_update
};


if (data.consent_mode_enabled) {
  gtagSet('ads_data_redaction', data.ads_data_redaction);
  gtagSet('url_passthrough', data.url_passthrough);
  gtagSet('developer_id.dMjZhMT', true);
  log("Cookienovo: setting default state", defaultConsentState);
  setDefaultConsentState(defaultConsentState);

  data.region_specific = data.region_specific || [];
  for (let i = 0; i < data.region_specific.length; i++) {
    let rcs = data.region_specific[i];
    let regionConsentState = {
      'region': rcs.region.split(','),
      'ad_storage': rcs.marketing,
      'ad_user_data': rcs.marketing,
      'ad_personalization': rcs.marketing,
      'analytics_storage': rcs.analytics,
      'functionality_storage': rcs.functionality,
//    'personalization_storage': rcs.functionality,
//    'security_storage': rcs.functionality,
    };
    setDefaultConsentState(regionConsentState);
    log("Cookienovo: setting default state for region", regionConsentState);
  }
}



const cookienovoState = {
  'analytics': loadConsentFromCookie('cn-category-analytics'),
  'marketing': loadConsentFromCookie('cn-category-marketing'),
  'functionality': loadConsentFromCookie('cn-category-functional')
};
let updatedState = {};
if (cookienovoState.analytics !== undefined && cookienovoState.analytics !== data.default_consent_analytics) {
  updatedState.analytics_storage = cookienovoState.analytics;
}
if (cookienovoState.marketing !== undefined && cookienovoState.marketing !== data.default_consent_marketing) {
  updatedState.ad_storage = cookienovoState.marketing;
  updatedState.ad_user_data = cookienovoState.marketing;
  updatedState.ad_personalization = cookienovoState.marketing;
}
if (cookienovoState.functionality !== undefined && cookienovoState.functionality !== data.default_consent_functionality) {
  updatedState.functionality_storage = cookienovoState.functionality;
//  updatedState.personalization_storage = cookienovoState.functionality;
//  updatedState.security_storage = cookienovoState.functionality;
}
if (Object.keys(updatedState).length > 0) {
  log("Cookienovo: update consent mode with state", updatedState);
  if (data.consent_mode_enabled) {
    updateConsentState(updatedState);
  } else {
    const dataLayerPush = createQueue('dataLayer');
    dataLayerPush({
      'consent': updatedState,
      'event': 'cookie_consent_updated'
    });
  }
}


const url = 'https://cookienovo.com/assets/client.js';
injectScript(url, () => {
  log("Cookienovo: stript loaded", data);
  setInWindow('cookienovo_injected', true, true);
  data.gtmOnSuccess();
}, () => {
  log("Cookienovo: stript loading failed", data);
  data.gtmOnFailure();
});


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "get_cookies",
        "versionId": "1"
      },
      "param": [
        {
          "key": "cookieAccess",
          "value": {
            "type": 1,
            "string": "specific"
          }
        },
        {
          "key": "cookieNames",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "cn-category-analytics"
              },
              {
                "type": 1,
                "string": "cn-category-functional"
              },
              {
                "type": 1,
                "string": "cn-category-marketing"
              },
              {
                "type": 1,
                "string": "cn-category-necessary"
              },
              {
                "type": 1,
                "string": "cn-consent-time"
              },
              {
                "type": 1,
                "string": "cn-dismissed"
              },
              {
                "type": 1,
                "string": "consent_cookies"
              },
              {
                "type": 1,
                "string": "cookienovolanguage"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_consent",
        "versionId": "1"
      },
      "param": [
        {
          "key": "consentTypes",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ad_storage"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ad_user_data"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ad_personalization"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "analytics_storage"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "functionality_storage"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "personalization_storage"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "security_storage"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "wait_for_update"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "url_passthrough"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "region"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://cookienovo.com/assets/client.js"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "write_data_layer",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keyPatterns",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "ads_data_redaction"
              },
              {
                "type": 1,
                "string": "url_passthrough"
              },
              {
                "type": 1,
                "string": "developer_id.dMjZhMT"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "cookienovo_token"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "cookienovo_injected"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios:
- name: Script was loaded
  code: |-
    runCode(mockData);
    assertApi('gtmOnSuccess').wasCalled();
- name: Token was set
  code: |-
    runCode(mockData);

    assertApi('setInWindow').wasCalledWith('cookienovo_token', '1234567890ABCDEF1234567890ABCDEF1234567890ABCDEF', true);
    // assertApi('setInWindow').wasCalledWith('cookienovo_injected', true, true);
- name: Default consent status was set
  code: |-
    runCode(mockData);
    assertApi('setDefaultConsentState').wasCalledWith({
      "ad_storage":"denied",
      "ad_user_data":"denied",
      "ad_personalization":"denied",
      "analytics_storage":"denied",
      "functionality_storage": "denied",
      "wait_for_update": 2000
    });
- name: Set Google configs
  code: |-
    runCode(mockData);
    assertApi('gtagSet').wasCalledWith('ads_data_redaction', false);
    assertApi('gtagSet').wasCalledWith('url_passthrough', true);
- name: Developer ID was set
  code: |-
    runCode(mockData);
    assertApi('gtagSet').wasCalledWith('developer_id.dMjZhMT', true);
- name: Consent was granted
  code: |-
    mock('getCookieValues', (name) => {
      switch (name) {
        case 'cn-category-analytics':
        case 'cn-category-functional':
        case 'cn-category-marketing':
          return ['1'];
      }
      return [];
    });

    runCode(mockData);

    assertApi('updateConsentState').wasCalledWith({
      "ad_storage":"granted",
      "ad_user_data":"granted",
      "ad_personalization":"granted",
      "analytics_storage":"granted",
      "functionality_storage": "granted"
    });
- name: Regional settings
  code: |-
    mockData.region_specific = [
      {"region":"SK","functionality":"granted","analytics":"denied","marketing":"denied"},
      {"region":"ES,PT","functionality":"granted","analytics":"granted","marketing":"denied"},
      {"region":"US-AS","functionality":"granted","analytics":"granted","marketing":"granted"}
    ];

    runCode(mockData);

    // default consent state
    assertApi('setDefaultConsentState').wasCalledWith({
      "ad_storage":"denied",
      "ad_user_data":"denied",
      "ad_personalization":"denied",
      "analytics_storage":"denied",
      "functionality_storage": "denied",
      "wait_for_update": 2000
    });

    assertApi('setDefaultConsentState').wasCalledWith({
      "ad_storage":"denied",
      "ad_user_data":"denied",
      "ad_personalization":"denied",
      "analytics_storage":"denied",
      "functionality_storage": "granted",
      "region": ["SK"]
    });


    assertApi('setDefaultConsentState').wasCalledWith({
      "ad_storage":"denied",
      "ad_user_data":"denied",
      "ad_personalization":"denied",
      "analytics_storage":"granted",
      "functionality_storage": "granted",
      "region": ["ES", "PT"]
    });

    assertApi('setDefaultConsentState').wasCalledWith({
      "ad_storage":"granted",
      "ad_user_data":"granted",
      "ad_personalization":"granted",
      "analytics_storage":"granted",
      "functionality_storage": "granted",
      "region": ["US-AS"]
    });
setup: |-
  let mockData = {
    'id': '1234567890ABCDEF1234567890ABCDEF1234567890ABCDEF',
    'consent_mode_enabled': true,
    'default_consent_functionality': 'denied',
    'default_consent_analytics': 'denied',
    'default_consent_marketing': 'denied',
    'wait_for_update': 2000,
    'ads_data_redaction': false,
    'url_passthrough': true,
  };

  let cookies = {};

  mock('injectScript', (url, onSuccess, onError) => {
    onSuccess();
  });

  mock('getCookieValues', (name) => {
    return [];
  });


___NOTES___

Created on 3. 4. 2025 15:23:12


